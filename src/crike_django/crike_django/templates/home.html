{% extends 'base.html' %}

{% block header %}
<style>

.thumbnail {
text-align:center;
}
.user-profile-header {
position: relative;
padding: 30px 0;
margin-bottom: 20px;
background-color:white;
}
</style>
{% endblock %}

{% block container_header %}

<header class="user-profile-header header-gray">
  <div class="container">

    <div id="user-info-view" class="pull-left">
      <div class="avatar-wrapper">
        <div class="avatar-image-container">
          <img alt="alexapollo" class="avatar large border" src="http://www.gravatar.com/avatar/73c2759e2936bc26746d0d26375aed31?d=retro&amp;s=140">
        </div>

          <div class="avatar-edit-link user-avatar-editable">
            <a href="/zh/users/50f83050575cd2fca5000cc8/edit" class="plain-text-link light-text edit-avatar">Update photo</a>
          </div>
          <form accept-charset="UTF-8" action="/profiles/50f83050575cd2fca5000cc8/image" class="user-avatar-editor" enctype="multipart/form-data" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="✓" class="ui-inited"><input name="authenticity_token" type="hidden" value="IqYLPliKsWDcGUdakjBH9Oa+VIYX8QqKT7RZMJZ0ZbU=" class="ui-inited"></div>
            <div>
              <input type="file" name="profile_image" class="profile-image-input ui-inited">
              <input type="hidden" name="username" value="alexapollo" class="ui-inited">
            </div>
          </form>
      </div>

      <div class="user-details">
        <div class="user-details-show">
          <div class="user-identifier user-details-editable">
            <span class="username">{{ user }}</span>
              <a href="/zh/users/50f83050575cd2fca5000cc8/edit" class="user-details-editable edit-profile plain-text-link light-text add-name-prompt">Add your name</a>
            <span class="full-name light-text name-content"></span>
          </div>
        </div>
      </div>
    </div>

    <div class="user-stats pull-right">
      <div class="user-points-bar-container">
      <div class="points-labels">
        Points today
        <span class="best">最好的 <strong class="best-count">22</strong></span>
      </div>

      <div class="points-bar">
        <span class="points-bar-fill" style="width: 0.0%">
          <span class="count-container count-right">
            <span class="points-today-count">0</span>
          </span>
        </span>
      </div>
    </div>

    <span class="stat-count">60</span>
    total points

    <span class="stat-count">0</span>
    day streak

    <div class="last-coded">
      Last coded <span class="last-coded-time">22 天 ago</span>
    </div>
    </div>

</div>
</header>

{% endblock %}

{% block container %}

<div class="row">

  {% for todo in todos %}
  <div class="col-sm-6 col-md-3">
    <a title="开始学习" href="/study/book/{{todo.book.name}}/lesson/{{todo.lesson.name}}/show" class="thumbnail">
      <div class="caption">
        <h3>{{todo.book.name}}:{{ todo.lesson.name }}</h3>
        <input type="text" value="{{ todo.lesson.stat.percent }}" class="dial" data-height="100" data-width="100" data-fgColor="#07DD3B" data-skin="tron" data-thickness=".13" data-angleOffset="180" data-inputColor="#969696">
        <p>last progress</p>
        <p>11天前</p>
      </div>
    </a>
  </div>
  {% endfor %}

</div>

{% endblock %}

{% block body_footer %}
<script src="http://cdn.jsdelivr.net/jquery.knob/1.2.2/jquery.knob.min.js"></script>

<script>
$(function() {
    $(".dial").knob({
    	readOnly:true,
        'draw': function () {
        	$(this.i).val(this.cv + '%')
        }
    });
    $(".knob").knob();
});
</script>

{% endblock %}